
<!DOCTYPE html>
<html lang="en">
<head>
    </head>
<body>
    <script>
        // All of your JavaScript code is in here
        // starting with const historicalPeriods = [ ... ];
        // and ending just before the final </script> tag.
    </script>
</body>
</html>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Comprehensive interactive map showing geographic patterns of US governance, politics, economics, and demographics from 1776-2025">
    <meta name="keywords" content="US history, interactive map, governance, politics, economics, demographics, geographic analysis, American history">
    <meta name="author" content="Marion Fox">
    <meta property="og:title" content="US Governance: Geographic & Historical Analysis">
    <meta property="og:description" content="Interactive map exploring 250 years of American governance patterns across geography, politics, and economics">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://jessicatemplet.com/Political-map-/preview.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="US Governance: Geographic & Historical Analysis">
    <meta name="twitter:description" content="Interactive map of American governance patterns from 1776-2025">
    <title>US Governance: Geographic & Historical Analysis</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/3.0.2/topojson.min.js"></script>

    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .controls {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            align-items: center;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .control-group label {
            font-weight: bold;
            color: #333;
        }
        
        .time-control {
            flex: 2;
            min-width: 300px;
        }
        
        .layer-control {
            flex: 1;
            min-width: 200px;
        }
        
        .play-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        button {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            background: #007bff;
            color: white;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s;
        }
        
        button:hover {
            background: #0056b3;
        }
        
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .time-slider {
            width: 100%;
            margin: 10px 0;
        }
        
        .year-display {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            text-align: center;
            margin: 10px 0;
        }
        
        .map-container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
        }
        
        .info-panel {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            min-height: 200px;
        }
        
        .legend {
            position: absolute;
            top: 60px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            font-size: 12px;
            min-width: 150px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 8px;
            border: 1px solid #ccc;
        }
        
        .state {
            stroke: #333;
            stroke-width: 0.5px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .state:hover {
            stroke: #000;
            stroke-width: 2px;
        }
        
        .state-label {
            font-family: sans-serif;
            pointer-events: none;
            font-size: 10px;
            text-anchor: middle;
            fill: black;
            font-weight: bold;
            text-shadow: 
                -1px -1px 0 #fff,  
                1px -1px 0 #fff,
                -1px 1px 0 #fff,
                1px 1px 0 #fff;
        }
        
        .tooltip {
            position: absolute;
            padding: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 5px;
            pointer-events: none;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 1000;
        }
        
        .period-indicator {
            background: #e9ecef;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-weight: bold;
            text-align: center;
        }
        
        .data-sources {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            font-size: 12px;
            color: #666;
        }
        
        #map-svg {
            width: 100%;
            height: 600px;
        }
        
        select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        input[type="range"] {
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>US Governance: Geographic & Historical Analysis (1776-2025)</h1>
            <p>Interactive visualization showing the geographic patterns of majority vs. elite governance across American history</p>
        </div>

        <div class="controls">
            <div class="control-group time-control">
                <label>Time Period</label>
                <div class="year-display" id="yearDisplay">1776</div>
                <input type="range" class="time-slider" id="timeSlider" min="1776" max="2025" value="1776" step="1">
                <div class="play-controls">
                    <button id="playBtn">Play</button>
                    <button id="pauseBtn" disabled>Pause</button>
                    <button id="resetBtn">Reset</button>
                    <span>Speed: <select id="speedSelect">
                        <option value="100">Slow</option>
                        <option value="50" selected>Medium</option>
                        <option value="25">Fast</option>
                    </select></span>
                </div>
            </div>

            <div class="control-group layer-control">
                <label>Data Layer</label>
                <select id="layerSelect">
                    <option value="governance">Governance Focus</option>
                    <option value="party">Party Control</option>
                    <option value="economic">Economic Centers</option>
                    <option value="policy">Policy Impact</option>
                    <option value="demographics">Demographics</option>
                    <option value="labor">Labor Organization</option>
                </select>
            </div>

            <div class="control-group">
                <label>Display Options</label>
                <div>
                    <input type="checkbox" id="showLegend" checked> <label for="showLegend">Show Legend</label><br>
                    <input type="checkbox" id="showTooltips" checked> <label for="showTooltips">Show Tooltips</label><br>
                    <input type="checkbox" id="animateTransitions" checked> <label for="animateTransitions">Animate Changes</label>
                </div>
            </div>
        </div>

        <div class="map-container">
            <div class="period-indicator" id="periodIndicator">Early Republic (1776-1830): Elite-Focused Governance</div>
            <svg id="map-svg"></svg>
            <div class="legend" id="legend"></div>
            <div class="tooltip" id="tooltip"></div>
        </div>

        <div class="info-panel" id="infoPanel">
            <h3>Historical Context</h3>
            <p>Select a time period and click on states to explore the complex relationships between geography, politics, and governance throughout American history. Use the time slider to see how patterns evolved over 250 years.</p>
        </div>

        <div class="data-sources">
            <h4>Data Sources & Methodology</h4>
            <p><strong>Sources:</strong> Historical election data, Census records, economic indicators, policy implementation records, labor statistics, and academic historical research.</p>
            <p><strong>Note:</strong> This visualization represents historical trends and patterns. Complex historical periods are necessarily simplified for visualization purposes. Regional variations within states are not fully captured in state-level data.</p>
        </div>
    </div>

    <script>
        // Start of the diagnostic script to check for syntax errors
        const stateData = {
            "CA": {
                governance: { 1776: "elite", 1850: "mixed", 1900: "majority", 1920: "elite", 1933: "majority", 1980: "mixed", 2000: "majority" },
            },
            "NY": {
                governance: { 1776: "elite", 1829: "majority", 1870: "elite", 1900: "majority", 1933: "majority", 1980: "mixed" },
            }
        };
        
        const colors = {
            governance: {
                elite: "#FF4444",
                majority: "#44AA44", 
                mixed: "#FFAA44"
            }
        };

        try {
            if (stateData && stateData.CA && colors && colors.governance.elite) {
                document.getElementById('infoPanel').innerHTML = '<h2><span style="color:green;">Success!</span> Data objects are defined correctly.</h2>';
            } else {
                document.getElementById('infoPanel').innerHTML = '<h2><span style="color:red;">Failure!</span> Data objects are undefined.</h2>';
            }
        } catch (e) {
            document.getElementById('infoPanel').innerHTML = '<h2><span style="color:red;">Critical Error!</span> The script failed to run. Check for syntax errors.</h2>';
        }

        // Add dummy functions to prevent console errors
        function updateMap() {}
        function updateLegend() {}
        function handleMouseOver() {}
        function handleMouseOut() {}
        function handleClick() {}
        function animateMap() {}
    </script>
    </body>
</html>

